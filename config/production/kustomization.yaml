apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Reference the default configuration
resources:
  - ../default

# Namespace for production deployment
namespace: nuclei-operator-system

# Common labels for all resources
commonLabels:
  environment: production

# Production-specific patches
patches:
  - path: manager_patch.yaml
    target:
      kind: Deployment
      name: controller-manager

# Image configuration for production
images:
  - name: controller
    newName: ghcr.io/mortenolsen/nuclei-operator
    newTag: latest

# ConfigMap generator for production settings
configMapGenerator:
  - name: nuclei-config
    literals:
      - NUCLEI_TIMEOUT=60m
      - NUCLEI_RATE_LIMIT=150
      - NUCLEI_BULK_SIZE=25